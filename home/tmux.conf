# .tmux.conf

# https://ianthehenry.com/posts/how-to-configure-tmux/
# https://justin.abrah.ms/dotfiles/tmux.html

# Change prefix key to C-a same as GNU Screen
unbind-key C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Window title for the terminal
set-option -g set-titles on
set-option -g set-titles-string '#H:#S.#I.#P #W #T' # window number,program name, active(or not)

set-option -g history-limit 10000

# Disable bells just in case
set-option -g bell-action none
set-option -g visual-bell off

# Monitor activity and send message to notify
set-option -g monitor-activity on
set-option -g visual-activity on

set-option -g aggressive-resize on

# Start at 1 instead of 0
# easier to reach on the keyboard
set-option -g base-index 1
set-option -g pane-base-index 1

# Keybindings

set-option -g mode-keys vi

# Reload and edit config file
bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"
bind-key R split-window -h ""$EDITOR" ~/.tmux.conf"

bind-key C-k kill-server

# bind-key -T copy-mode-vi y send-keys -X copy-selection
# Copy into system clipboard
# bind-key -T vi-copy y copy-pipe "xclip -selection clipboard -i"

# vim like copy and pasting
# https://www.rushiagr.com/blog/2016/06/16/everything-you-need-to-know-about-tmux-copy-pasting-ubuntu/
# https://ianthehenry.com/posts/tmux-psa/
# set-option -g set-clipboard external

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle

bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'
